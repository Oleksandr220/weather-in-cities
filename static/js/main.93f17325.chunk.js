(this["webpackJsonpweather-in-cities"]=this["webpackJsonpweather-in-cities"]||[]).push([[0],{11:function(e,t,n){e.exports={info:"WeatherDeatails_info__1D2Nd",field:"WeatherDeatails_field__B2F63"}},24:function(e,t,n){e.exports={citiesList:"CitiesList_citiesList__12wjE",citiesListItem:"CitiesList_citiesListItem__GLRcA",citiesListItem__link:"CitiesList_citiesListItem__link__c58fj"}},28:function(e,t,n){e.exports={container:"PageWraper_container__1K4EQ",container__title:"PageWraper_container__title__2oHI5"}},39:function(e,t,n){},41:function(e,t,n){e.exports={btnGetWeather:"Button_btnGetWeather__38FYw"}},43:function(e,t,n){e.exports={weatherOnCityInput:"Input_weatherOnCityInput__2d5pl"}},44:function(e,t,n){},54:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(20),i=n.n(a),s=n(10),u=n(15),o=(n(54),n(3)),l=n(28),d=n.n(l),j=n(1),h=function(e){var t=e.title,n=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{children:Object(j.jsx)("h2",{className:d.a.container__title,children:t})}),Object(j.jsx)("div",{className:d.a.container,children:n})]})},f=n(9),p=n.n(f),b=n(12),O=n(39),m=n.n(O),x=n(40),_=n.n(x),v="http://api.openweathermap.org",y="e2deec3919b698e6e2da44b14544310d";function w(){return(w=Object(b.a)(p.a.mark((function e(t){var n,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat(v,"/data/2.5/weather?q=").concat(t,"&appid=").concat(y));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){return w.apply(this,arguments)},N=n(24),g=n.n(N),I=n(41),k=n.n(I);function D(e){var t=e.text,n=e.onClick;return Object(j.jsx)("button",{type:"submit",className:k.a.btnGetWeather,onClick:n,children:t})}var S=function(e){return e.citiesReducer.cities},E=function(e){var t=e.onUpdate,n=e.onDelete,c=Object(s.c)(S),r=Object(o.g)();return Object(j.jsx)("ul",{className:g.a.citiesList,children:c.map((function(e){return Object(j.jsxs)("li",{className:g.a.citiesListItem,children:[Object(j.jsxs)(u.b,{className:g.a.citiesListItem__link,to:{pathname:"/details/".concat(e.name),state:{from:r}},children:[Object(j.jsxs)("p",{children:["Country: ",e.sys.country]}),Object(j.jsxs)("p",{children:["City: ",e.name]}),Object(j.jsxs)("p",{children:["Temp: ",Math.round(e.main.temp-273)," \xb0C"]})]}),Object(j.jsx)(D,{text:"Delete",onClick:function(){return n(e.id)}}),Object(j.jsx)(D,{text:"Update",onClick:function(){return t(e.name)}})]},e.id)}))})},L=n(22),T=n(43),F=n.n(T);function R(e){var t=e.request,n=e.onChange,c=e.placeholder;return Object(j.jsx)("input",{className:F.a.weatherOnCityInput,value:t,onChange:n,type:"text",autoComplete:"off",autoFocus:!0,placeholder:c})}var U=n(44),Y=n.n(U),q=function(e){return{data:e,type:"FIND_CITY"}};function W(){var e=Object(c.useState)(""),t=Object(L.a)(e,2),n=t[0],r=t[1],a=Object(s.b)();return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{className:Y.a.weatherOnCity,onSubmit:function(e){e.preventDefault(),""!==n.trim()&&(a(q(n)),r(""))},children:[Object(j.jsx)(R,{request:n,onChange:function(e){r(e.currentTarget.value.toLowerCase())},placeholder:"Search weather in city"}),Object(j.jsx)(D,{text:"search city"})]})})}var M=function(e){return e.weatherReducer.request},A=function(){var e=Object(s.b)(),t=Object(s.c)(S),n=Object(s.c)(M),r=function(){var n=Object(b.a)(p.a.mark((function n(c){var r;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,C(c);case 3:if(r=n.sent,!t.find((function(e){return r.id===e.id}))){n.next=7;break}return n.abrupt("return");case 7:return e({data:r,type:"ADD_CITY"}),n.abrupt("return");case 11:n.prev=11,n.t0=n.catch(0),alert("Enter the correct city name...");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}();Object(c.useEffect)((function(){n&&(r(n),e(q("")))}),[n]);var a=function(){var n=Object(b.a)(p.a.mark((function n(c){var r,a,i;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C(c);case 2:r=n.sent,a=t.find((function(e){return e.name===r.name})),i=t.indexOf(a),t.splice(i,1,r),e({data:t,type:"UPDATE_CITY"});case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(W,{className:m.a.searchbar}),Object(j.jsx)(E,{onDelete:function(n){var c=t.filter((function(e){return e.id!==n}));e({data:c,type:"REMOVE_CITY"})},onUpdate:a})]})},B=n(11),G=n.n(B);function J(){var e=Object(o.f)(),t=Object(o.g)(),n=Object(c.useState)(),r=Object(L.a)(n,2),a=r[0],i=r[1],s=Object(o.h)().cityName;function u(){return u=Object(b.a)(p.a.mark((function e(t){var n,c,r,a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return n=e.sent,c=new Date(1e3*n.sys.sunrise).toLocaleTimeString("en-US"),r=new Date(1e3*n.sys.sunset).toLocaleTimeString("en-US"),a=n.weather.find((function(e){return e.description})),s={countryName:n.sys.country,cityName:n.name,description:a.description,temp:Math.round(n.main.temp-273),feels_like:Math.round(n.main.feels_like-273),sunrise:c,sunset:r},e.abrupt("return",i(s));case 8:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}Object(c.useEffect)((function(){!function(e){u.apply(this,arguments)}(s)}),[s]);return Object(j.jsx)(j.Fragment,{children:a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(D,{text:"Back",onClick:function(){var n,c,r;if(null===t||void 0===t||null===(n=t.state)||void 0===n?void 0:n.search)return e.push("?query=".concat(null===t||void 0===t||null===(r=t.state)||void 0===r?void 0:r.search));e.push(null===t||void 0===t||null===(c=t.state)||void 0===c?void 0:c.from)}}),Object(j.jsxs)("div",{className:G.a.info,children:[Object(j.jsxs)("h3",{className:G.a.field,children:["Country: ",a.countryName]}),Object(j.jsxs)("p",{className:G.a.field,children:["City: ",a.cityName]}),Object(j.jsxs)("p",{className:G.a.field,children:["Sky: ",a.description]}),Object(j.jsxs)("p",{className:G.a.field,children:["Temp: ",a.temp," \xb0C"]}),Object(j.jsxs)("p",{className:G.a.field,children:["Feels like: ",a.feels_like," \xb0C"]}),Object(j.jsxs)("p",{className:G.a.field,children:["Sunrise: ",a.sunrise]}),Object(j.jsxs)("p",{className:G.a.field,children:["Sunset: ",a.sunset]})]})]})})}var P=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(c.Suspense,{fallback:Object(j.jsx)("h3",{children:"Loading"}),children:Object(j.jsxs)(o.c,{children:[Object(j.jsx)(o.a,{path:"/",exact:!0,children:Object(j.jsx)(h,{title:"List of added cities",children:Object(j.jsx)(A,{})})}),Object(j.jsx)(o.a,{path:"/details/:cityName",children:Object(j.jsx)(h,{title:"Detailed information about the weather in the city",children:Object(j.jsx)(J,{})})})]})})})},V=n(23),X={request:""};var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;return"FIND_CITY"===t.type?{request:t.data}:e},K=n(25),Q=n(13),z={cities:[]};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CITY":return Object(Q.a)(Object(Q.a)({},e),{},{cities:[].concat(Object(K.a)(e.cities),[t.data])});case"UPDATE_CITY":case"REMOVE_CITY":return Object(Q.a)(Object(Q.a)({},e),{},{cities:Object(K.a)(t.data)});default:return e}},$=Object(V.a)({weatherReducer:H,citiesReducer:Z});var ee=function(){try{var e=localStorage.getItem("cities");if(null===e)return;return JSON.parse(e)}catch(t){return void console.warn(t)}};var te=function(e){try{var t=JSON.stringify(e);localStorage.setItem("cities",t)}catch(n){console.warn(n)}},ne=Object(V.b)($,ee(),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());ne.subscribe((function(){return te(ne.getState())}));var ce=ne;i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(s.a,{store:ce,children:Object(j.jsx)(u.a,{children:Object(j.jsx)(P,{})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.93f17325.chunk.js.map